---
title: "OpenSSL | Common Commands"
date: "2020-01-20"
hero_image: "./ilya-pavlov-OqtafYT5kTw-unsplash.jpg"
hero_image_alt: "Screen with HTML code in dark mode"
hero_image_credit_text: "Ilya Pavlov"
hero_image_credit_link: "https://unsplash.com/photos/OqtafYT5kTw"
---

OpenSSL | Common Commands
=========================

January 20, 2020

General OpenSSL Commands
------------------------

![OpenSSL CLI](/images/opensslhelp.jpg "openssl help")

Generate a new private key and Certificate Signing Request

```
openssl req -out myCSR.csr -new -newkey rsa:2048 -nodes -keyout privateKey.key
```

Generate a self-signed certificate
```
openssl req -x509 -sha256 -nodes -days 365 -newkey rsa:2048 -keyout privateKey.key -out certificate.crt
```
Generate a certificate signing request (CSR) for an existing private key
```
openssl req -out myCSR.csr -key privateKey.key -new
```

Generate a certificate signing request based on an existing certificate
```
openssl x509 -x509toreq -in certificate.crt -out myCSR.csr -signkey privateKey.key
```

Remove a passphrase from a private key
```
openssl rsa -in privateKey.pem -out newPrivateKey.pem
```

Debugging Using OpenSSL
-----------------------

Check an SSL connection. All the certificates (including Intermediates) should be displayed

```
openssl s_client -connect www.paypal.com:443
```

Converting Using OpenSSL
------------------------

Convert a DER file (.crt .cer .der) to PEM

```
openssl x509 -inform der -in certificate.cer -out certificate.pem
```

Convert a PEM file to DER

```
openssl x509 -outform der -in certificate.pem -out certificate.der
```

Convert a PKCS#12 file (.pfx .p12) containing a private key and certificates to PEM

```
openssl pkcs12 -in keyStore.pfx -out keyStore.pem -nodes
```

Convert a PEM certificate file and a private key to PKCS#12 (.pfx .p12)

```
openssl pkcs12 -export -out certificate.pfx -inkey privateKey.key -in certificate.crt -certfile CACert.crt
```

* * *
